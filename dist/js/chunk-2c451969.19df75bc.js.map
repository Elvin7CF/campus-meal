{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./src/assets/nothing.png","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./src/views/cart/cart.vue?d951","webpack:///src/views/cart/cart.vue","webpack:///./src/views/cart/cart.vue?3c2d","webpack:///./src/views/cart/cart.vue","webpack:///./src/views/cart/cart.vue?f32d"],"names":["DESCRIPTORS","getKeys","toIObject","isEnum","f","module","exports","isEntries","it","key","O","keys","length","i","result","call","push","$export","$values","S","values","render","_vm","this","_h","$createElement","_c","_self","attrs","editStatus","staticClass","on","$event","slot","_v","_e","_l","item","restaurant_id","deleteSelectFood","allSelectDelete","selectFood","allSelect","pic_url","_s","restaurant_name","food","foodKey","Number","cancelSelectDelete","selectDelete","select","cancelSelect","foods_pic","name","num","price","directives","rawName","value","expression","class","active","submit","toFixed","deleteCart","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2c451969.19df75bc.js","sourcesContent":["var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","module.exports = __webpack_public_path__ + \"img/nothing.5cadc1b8.png\";","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cart\"}},[_c('v-head',{attrs:{\"title\":\"购物车\",\"goBack\":\"true\",\"bgColor\":\"#f4f4f4\"}},[(!_vm.editStatus)?_c('span',{staticClass:\"edit\",attrs:{\"slot\":\"edit-cart\"},on:{\"click\":function($event){_vm.editStatus = true;}},slot:\"edit-cart\"},[_vm._v(\"编辑\")]):_c('span',{staticClass:\"edit\",attrs:{\"slot\":\"cancel-edit-cart\"},on:{\"click\":function($event){_vm.editStatus = false;}},slot:\"cancel-edit-cart\"},[_vm._v(\"取消\")])]),(_vm.emptyCart)?_c('div',{staticClass:\"empty-cart\"},[_c('div',{staticClass:\"info-container\"},[_c('img',{attrs:{\"src\":require(\"../../assets/nothing.png\")}}),_c('span',{staticClass:\"text\"},[_vm._v(\"购物车空空如也，快去逛逛吧\")]),_c('router-link',{staticClass:\"redirect-index\",attrs:{\"to\":\"/index\"}},[_c('span',[_vm._v(\"去逛逛\")])])],1)]):_vm._e(),_vm._l((_vm.cartList),function(item,restaurant_id){return _c('article',{key:restaurant_id},[_c('section',{staticClass:\"title\"},[(_vm.editStatus && _vm.deleteSelectFood[restaurant_id]['allSelect'] === true)?_c('span',{staticClass:\"delete-selected selected\",on:{\"click\":function($event){return _vm.allSelectDelete(restaurant_id,false)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]):(_vm.editStatus)?_c('span',{staticClass:\"select\",on:{\"click\":function($event){return _vm.allSelectDelete(restaurant_id,true)}}}):_vm._e(),(!_vm.editStatus && _vm.selectFood[restaurant_id]['allSelect'] === true)?_c('span',{staticClass:\"selected\",on:{\"click\":function($event){return _vm.allSelect(restaurant_id,false)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]):(!_vm.editStatus)?_c('span',{staticClass:\"select\",on:{\"click\":function($event){return _vm.allSelect(restaurant_id,true)}}}):_vm._e(),_c('span',{staticClass:\"restaurant-picture\"},[_c('img',{attrs:{\"src\":item.pic_url}})]),_c('span',{staticClass:\"restaurant-name\"},[_vm._v(_vm._s(item.restaurant_name))])]),_vm._l((item),function(food,foodKey){return (Number(foodKey))?_c('section',{key:foodKey,staticClass:\"main-container\"},[_c('div',{staticClass:\"foods\"},[(_vm.editStatus && _vm.deleteSelectFood[restaurant_id][foodKey] === true)?_c('span',{staticClass:\"selected delete-selected\",on:{\"click\":function($event){return _vm.cancelSelectDelete(restaurant_id,foodKey)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]):(_vm.editStatus)?_c('span',{staticClass:\"select delete-select\",on:{\"click\":function($event){return _vm.selectDelete(restaurant_id,foodKey)}}}):_vm._e(),(!_vm.editStatus && _vm.selectFood[restaurant_id][foodKey] === true)?_c('span',{staticClass:\"selected\",on:{\"click\":function($event){return _vm.cancelSelect(restaurant_id,foodKey)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]):(!_vm.editStatus)?_c('span',{staticClass:\"select\",on:{\"click\":function($event){return _vm.select(restaurant_id,foodKey)}}}):_vm._e(),_c('div',{staticClass:\"picture-container\"},[_c('img',{attrs:{\"src\":food.foods_pic}})]),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_c('div',[_c('span',{staticClass:\"num\"},[_vm._v(\"x\"+_vm._s(food.num))]),_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(food.price))])])])])]):_vm._e()}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editStatus),expression:\"!editStatus\"}],staticClass:\"bottom\"},[_c('span',{staticClass:\"submit\",class:{active:!_vm.selectFood[restaurant_id]['totalPrice']},on:{\"click\":function($event){return _vm.submit(restaurant_id)}}},[_vm._v(\"去结算\\n      \")]),_c('span',{staticClass:\"total-price\"},[_vm._v(\"￥\"+_vm._s(_vm.selectFood[restaurant_id]['totalPrice'].toFixed(2)))])])],2)}),_c('footer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editStatus),expression:\"editStatus\"}],staticClass:\"btn-delete\",on:{\"click\":function($event){return _vm.deleteCart()}}},[_c('span',[_vm._v(\"删除\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"cart\">\n    <v-head title=\"购物车\" goBack=\"true\" bgColor=\"#f4f4f4\">\n      <span slot=\"edit-cart\" class=\"edit\" @click=\"editStatus = true;\" v-if=\"!editStatus\">编辑</span>\n      <span slot=\"cancel-edit-cart\" class=\"edit\" @click=\"editStatus = false;\" v-else>取消</span>\n    </v-head>\n\n    <div class=\"empty-cart\" v-if=\"emptyCart\">\n      <div class=\"info-container\">\n        <img src=\"../../assets/nothing.png\">\n        <span class=\"text\">购物车空空如也，快去逛逛吧</span>\n        <router-link class=\"redirect-index\" to=\"/index\"><span>去逛逛</span></router-link>\n      </div>\n    </div>\n\n    <article v-for=\"(item,restaurant_id) in cartList\" :key=\"restaurant_id\">\n      <section class=\"title\">\n        <span\n          class=\"delete-selected selected\"\n          v-if=\"editStatus && deleteSelectFood[restaurant_id]['allSelect'] === true\"\n          @click=\"allSelectDelete(restaurant_id,false)\">\n            <i class=\"iconfont\">&#xe6da;</i>\n        </span>\n        <span\n          class=\"select\"\n          v-else-if=\"editStatus\"\n          @click=\"allSelectDelete(restaurant_id,true)\">\n        </span>\n        <span\n          class=\"selected\"\n          v-if=\"!editStatus && selectFood[restaurant_id]['allSelect'] === true\"\n          @click=\"allSelect(restaurant_id,false)\">\n          <i class=\"iconfont\">&#xe6da;</i>\n        </span>\n        <span\n          class=\"select\"\n          v-else-if=\"!editStatus\"\n          @click=\"allSelect(restaurant_id,true)\">\n        </span>\n        <span class=\"restaurant-picture\">\n          <img :src=\"item.pic_url\">\n        </span>\n        <span class=\"restaurant-name\">{{item.restaurant_name}}</span>\n      </section>\n      <section\n        v-for=\"(food,foodKey) in item\"\n        v-if=\"Number(foodKey)\"\n        class=\"main-container\"\n        :key=\"foodKey\">\n        <div class=\"foods\">\n           <span class=\"selected delete-selected\"\n                 v-if=\"editStatus && deleteSelectFood[restaurant_id][foodKey] === true\"\n                 @click=\"cancelSelectDelete(restaurant_id,foodKey)\">\n             <i class=\"iconfont\">&#xe6da;</i>\n           </span>\n          <span class=\"select delete-select\"\n                v-else-if=\"editStatus\"\n                @click=\"selectDelete(restaurant_id,foodKey)\">\n          </span>\n          <span\n            class=\"selected\"\n            v-if=\"!editStatus && selectFood[restaurant_id][foodKey] === true\"\n            @click=\"cancelSelect(restaurant_id,foodKey)\">\n            <i class=\"iconfont\">&#xe6da;</i>\n          </span>\n          <span\n            class=\"select\"\n            v-else-if=\"!editStatus\"\n            @click=\"select(restaurant_id,foodKey)\">\n          </span>\n          <div class=\"picture-container\">\n            <img :src=\"food.foods_pic\">\n          </div>\n          <div class=\"info\">\n            <span class=\"name\">{{food.name}}</span>\n            <div>\n              <span class=\"num\">x{{food.num}}</span>\n              <span class=\"price\">￥{{food.price}}</span>\n            </div>\n          </div>\n        </div>\n      </section>\n      <div class=\"bottom\" v-show=\"!editStatus\">\n        <span class=\"submit\"\n              @click=\"submit(restaurant_id)\"\n              :class=\"{active:!selectFood[restaurant_id]['totalPrice']}\">去结算\n        </span>\n        <span class=\"total-price\">￥{{selectFood[restaurant_id]['totalPrice'].toFixed(2)}}</span>\n      </div>\n    </article>\n\n    <footer class=\"btn-delete\" v-show=\"editStatus\" @click=\"deleteCart()\">\n      <span>删除</span>\n    </footer>\n  </div>\n</template>\n\n<script>\n  import {mapGetters} from 'vuex'\n\n  export default {\n    computed: {\n      ...mapGetters(['cartList'])\n    },\n    data() {\n      return {\n        totalPrice: 0,\n        selectFood: {},   //选中列表\n        deleteSelectFood: {},   //选中删除列表\n        editStatus: false,      //编辑状态\n        emptyCart: true          //购物车为空\n      }\n    },\n    methods: {\n      cancelSelect(restaurant_id, foodKey) {    //取消选中商品\n        this.selectFood[restaurant_id][foodKey] = false;    //该商品取消选中\n        this.selectFood[restaurant_id]['allSelect'] = false;    //全选标志为false\n        let cartFoodData = this.cartList[restaurant_id][foodKey];  //购物车中 该商品信息\n        this.selectFood[restaurant_id]['totalPrice'] -= cartFoodData['num'] * cartFoodData['price'];  //修改价格\n        this.selectFood = {...this.selectFood};   //拓展运算符使vue更新视图\n      },\n      cancelSelectDelete(restaurant_id, foodKey) {  //取消删除选中\n        this.deleteSelectFood[restaurant_id][foodKey] = false;      //该商品删除选中为false\n        this.deleteSelectFood[restaurant_id]['allSelect'] = false;    //全选标志为false\n        this.deleteSelectFood = {...this.deleteSelectFood};   //拓展运算符使vue更新视图\n      },\n      select(restaurant_id, foodKey) {      //选中商品\n        this.selectFood[restaurant_id][foodKey] = true;   //该商品选中置true\n        let cartFoodData = this.cartList[restaurant_id][foodKey];  //购物车中 该商品信息\n        this.selectFood[restaurant_id]['totalPrice'] += cartFoodData['num'] * cartFoodData['price'];  //修改价格\n\n        //判读是否全选\n        let newObj = {...this.selectFood[restaurant_id]};\n        let allSelect = this.isAllSelect(newObj, restaurant_id);\n        this.selectFood[restaurant_id]['allSelect'] = allSelect;\n        this.selectFood = {...this.selectFood};   //拓展运算符使vue更新视图\n      },\n      selectDelete(restaurant_id, foodKey) {  //选中删除商品\n        this.deleteSelectFood[restaurant_id][foodKey] = true; //该商品选中置为true\n        //判读是否全选\n        let newObj = {...this.deleteSelectFood[restaurant_id]};\n        let allSelect = this.isAllSelect(newObj, restaurant_id);\n        this.deleteSelectFood[restaurant_id]['allSelect'] = allSelect;\n        this.deleteSelectFood = {...this.deleteSelectFood};   //拓展运算符使vue更新视图\n      },\n      isAllSelect(newObj) {      //判断商品是否全选中了 如果全选中那么商家头像左边的按钮对应选中\n        delete newObj.allSelect;\n        let values = Object.values(newObj);\n        let noAllSelect = values.some((el) => {\n          if (el === false)\n            return true;\n        });\n        return !noAllSelect;\n      },\n      allSelect(restaurant_id, boolean) {     //全选\n        this.selectFood[restaurant_id]['allSelect'] = boolean;  //全选标志\n        Object.keys(this.selectFood[restaurant_id]).forEach(el => { //每个商品都选中\n          if (Number(el))\n            this.selectFood[restaurant_id][el] = boolean;\n        })\n\n        if (boolean) {    //如果是选中 计算价格\n          let restaurant = this.cartList[restaurant_id];\n          Object.keys(restaurant).forEach(el => {\n            if (Number(el)) {\n              this.selectFood[restaurant_id]['totalPrice'] += restaurant[el]['num'] * restaurant[el]['price'];\n            }\n          });\n        } else {    //取消全选\n          this.selectFood[restaurant_id]['totalPrice'] = 0;\n        }\n        this.selectFood = {...this.selectFood};   //拓展运算符使vue更新视图\n      },\n      allSelectDelete(restaurant_id, boolean) {   //删除状态下的全选\n        this.deleteSelectFood[restaurant_id]['allSelect'] = boolean;\n        Object.keys(this.deleteSelectFood[restaurant_id]).forEach(el => {\n          if (Number(el))\n            this.deleteSelectFood[restaurant_id][el] = boolean;\n        })\n        this.deleteSelectFood = {...this.deleteSelectFood};   //拓展运算符使vue更新视图\n      },\n      submit(restaurant_id) { //提交订单\n        if (!this.selectFood[restaurant_id].totalPrice)   //如果没有选中食物 不能提交订单\n          return;\n        let restaurant = this.selectFood[restaurant_id];    //选中食物的餐馆\n        let foods = {\n          totalPrice: 0,\n          totalNum: 0\n        };\n        Object.keys(restaurant).forEach(el => {   //计算价格\n          if (Number(el) && restaurant[el]) {\n            let food = this.cartList[restaurant_id][el];\n            foods[el] = food;\n            foods['totalPrice'] += food.num * food.price;\n            foods['totalNum'] += food.num;\n          }\n        })\n        let data = {\n          restaurant_id,\n          foods\n        };\n        localStorage.setItem('confirmOrderData', JSON.stringify(data));\n        this.$router.push({path: '/confirm_order'});\n      },\n      deleteCart() {       //删除购物车\n        Object.keys(this.deleteSelectFood).forEach((restaurant_id) => {\n          let restaurant = this.deleteSelectFood[restaurant_id];  //商店\n          Object.keys(restaurant).forEach(food_id => {    //要删除的商品\n            if (Number(food_id) && restaurant[food_id]) {   //删除购物车数据\n              this.$store.dispatch('deleteFood', {restaurant_id, food_id})\n              delete this.selectFood[restaurant_id][food_id];\n            }\n            this.allSelect(restaurant_id, false);      //重置选中列表为false\n            delete restaurant[food_id];\n          })\n        })\n        this.editStatus = false;\n        this.emptyCart = !Object.keys(this.cartList).length;\n      }\n    },\n    created() {\n      this.emptyCart = !Object.keys(this.cartList).length\n      Object.keys(this.cartList).forEach(restaurant_id => {  //初始化选中列表\n        this.selectFood[restaurant_id] = {\n          allSelect: true,\n          totalPrice: 0\n        };\n        this.deleteSelectFood[restaurant_id] = {\n          allSelect: false\n        }\n        let restaurant = this.cartList[restaurant_id];\n        Object.keys(restaurant).forEach(data => {\n          if (Number(data)) {\n            this.deleteSelectFood[restaurant_id][data] = false;\n            this.selectFood[restaurant_id][data] = true;\n            this.selectFood[restaurant_id]['totalPrice'] += Number(restaurant[data]['price']) * Number(restaurant[data]['num']);\n          }\n        })\n      });\n    }\n  }\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  @import \"../../style/mixin\";\n\n  #cart {\n    .info-container {\n      text-align: center;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      img {\n        width: 3rem;\n        height: 3rem;\n      }\n      .text {\n        display: block;\n        font-size: 0.35rem;\n      }\n      .redirect-index {\n        display: flex;\n        width: 3rem;\n        height: 1rem;\n        margin: 0.3rem auto;\n        justify-content: center;\n        align-items: center;\n        background: $mtYellow;\n        span {\n          font-size: 0.3rem;\n        }\n      }\n    }\n    .edit {\n      position: absolute;\n      right: 15px;\n      top: 2px;\n      font-size: 0.4rem;\n      font-weight: 600;\n    }\n    .title {\n      padding: 0.2rem;\n      display: flex;\n      align-items: center;\n      .restaurant-name {\n        font-size: 0.4rem;\n        vertical-align: middle;\n      }\n      .restaurant-picture {\n        display: inline-block;\n        margin: 0 0.2rem;\n        img {\n          @include px2rem(width, 42);\n          @include px2rem(height, 42);\n        }\n      }\n    }\n    .select, .selected {\n      display: inline-block;\n      @include px2rem(width, 40);\n      @include px2rem(height, 40);\n      border-radius: 50%;\n    }\n    .select {\n      border: 1px solid #e9e8ea;\n      vertical-align: middle;\n    }\n    .selected {\n      text-align: center;\n      background: $mtYellow;\n      @include px2rem(line-height, 35);\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n      .iconfont {\n        font-size: 0.5rem;\n      }\n    }\n    .delete-selected {\n      background: #ff4b37;\n    }\n    .main-container {\n      padding: 0.05rem 0 0.05rem 0.3rem;\n      .foods {\n        display: flex;\n        align-items: center;\n        margin: 0.2rem 0;\n        .picture-container {\n          @include px2rem(width, 160);\n          @include px2rem(height, 155);\n          margin-left: 0.2rem;\n          img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n        .info {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          background: #f7f7f7;\n          padding: 0.1rem 0 0.1rem 0.3rem;\n          @include px2rem(height, 150);\n          .name {\n            font-size: 0.4rem;\n            font-weight: 600;\n          }\n          div {\n            display: flex;\n            justify-content: space-between;\n            @include px2rem(padding-top, 50);\n            .num {\n              font-size: 0.4rem;\n            }\n            .price {\n              font-size: 0.4rem;\n              padding-right: 0.2rem;\n            }\n          }\n        }\n      }\n    }\n\n    .bottom {\n      display: flex;\n      align-items: center;\n      flex-direction: row-reverse;\n      padding: 0.5rem 0;\n      border-top: 1px solid #e9e8ea;\n      .total-price {\n        flex: 1;\n        text-align: right;\n        @include px2rem(margin-right, 20);\n        font-size: 0.5rem;\n        color: #c75a5d;\n      }\n      .submit {\n        margin-right: 0.1rem;\n        text-align: center;\n        font-size: 0.5rem;\n        background: $mtYellow;\n        display: inline-block;\n        @include px2rem(width, 186);\n        @include px2rem(line-height, 68);\n        &.active {\n          background: $mtGrey;\n        }\n      }\n    }\n\n    .btn-delete {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      text-align: center;\n      @include px2rem(line-height, 68);\n      background: #c54144;\n      span {\n        color: #fff;\n        font-size: 0.4rem;\n      }\n    }\n  }\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=802def22&scoped=true&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=802def22&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"802def22\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=802def22&rel=stylesheet%2Fscss&lang=scss&scoped=true&\""],"sourceRoot":""}